<!DOCTYPE HTML>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:f="http://java.sun.com/jsf/core">

  <h:body>

		<ui:composition template="template.xhtml">
 
    		<ui:define name="content">
    		
    		 	<h1>Check if Adjustment of Insurance Fee is needed</h1>
    		 	<h3>Customer</h3>
			    <table class="table">
			    	<tr>
			    		<th>Name</th>
			    		<td>#{checkIfAdjestmentIsNeeded.liabilityCase.insuranceContract.customer.name}</td>
			    	</tr>
			    	<tr>
			    		<th>Company</th>
			    		<td>#{checkIfAdjestmentIsNeeded.liabilityCase.insuranceContract.customer.company}</td>
			    	</tr>
			    	<tr>
			    		<th>Email</th>
			    		<td>#{checkIfAdjestmentIsNeeded.liabilityCase.insuranceContract.customer.email}</td>
			    	</tr>
			    	<tr>
			    		<th>Phone Number</th>
			    		<td>#{checkIfAdjestmentIsNeeded.liabilityCase.insuranceContract.customer.phoneNumber}</td>
			    	</tr>
			    	<tr>
			    		<th>Address</th>
			    		<td>#{checkIfAdjestmentIsNeeded.liabilityCase.insuranceContract.customer.address}</td>
			    	</tr>
			    </table>	
			   <h3>Contract</h3>
			    <table class="table">
			    	<tr>
			    		<th>Contract ID</th>
			    		<td>#{checkIfAdjestmentIsNeeded.liabilityCase.insuranceContract.id}</td>
			    	</tr>
			    	<tr>
			    		<th>Insurance Price</th>
			    		<td>#{checkIfAdjestmentIsNeeded.liabilityCase.insuranceContract.insurancePrice}</td>
			    	</tr>
			    	<tr>
			    		<th>Insurance Type</th>
			    		<td>#{checkIfAdjestmentIsNeeded.liabilityCase.insuranceContract.insuranceType}</td>
			    	</tr>
			    </table>
			    	<h3>Liability Cases</h3>
			    	<h:dataTable value="#{checkIfAdjestmentIsNeeded.liabilityCase.insuranceContract.getLiabilityCases()}" var="cur"
					styleClass="table" headerClass="table-cell table-cell"
					columnClasses="table-cell,table-cell,table-cell"
					rendered="#{not empty checkIfAdjestmentIsNeeded.liabilityCase.insuranceContract.getLiabilityCases()}">
						<h:column>
							<f:facet name="header">Status</f:facet>
							<h:outputText value="#{cur.status}">
							</h:outputText>
						</h:column>
						<h:column>
							<f:facet name="header">Eligible</f:facet>
							<h:outputText value="#{cur.eligible}">
							</h:outputText>
						</h:column>
						<h:column>
							<f:facet name="header">Insurance Sum</f:facet>
							<h:outputText value="#{cur.insuranceSum}">
							</h:outputText>
						</h:column>
					</h:dataTable>
					
					<h3>Adjustment needed?</h3>
				    <h:form id="submitForm" target="_parent">
			
				      <div class="checkbox">
					    <label>
					      <h:selectBooleanCheckbox value="#{checkIfAdjestmentIsNeeded.adjustmentNeeded}"/> Adjustment is needed
					    </label>
					  </div>
					  
				      <h:commandButton id="submit_button" class="btn btn-primary pull-right" value="Save changes" update="@form" action="#{checkIfAdjestmentIsNeeded.submitForm()}" />
				    	
				    </h:form>
			    
    		</ui:define>
 
    	</ui:composition>

     
  </h:body>
</html>