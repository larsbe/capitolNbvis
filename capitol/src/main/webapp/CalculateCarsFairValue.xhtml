<!DOCTYPE HTML>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:p="http://xmlns.jcp.org/jsf/passthrough">

  <h:body>

	<ui:composition template="template.xhtml">
 
    	<ui:define name="content">
    		
    		<h1>Calculate Car's Fair Value</h1>
    		<h3>Liability Case Info</h3>
    		<table class="table">
			    	<tr>
			    		<th>Case ID</th>
			    		<td>#{checkEligibility.liabilityCase.id}</td>
			    	</tr>
			    	<tr>
			    		<th>Contract ID</th>
			    		<td>#{checkEligibility.liabilityCase.insuranceContract.id}</td>
			    	</tr>
			    	<tr>
			    		<th>Customer Name</th>
			    		<td>#{checkEligibility.liabilityCase.insuranceContract.customer.name}</td>
			    	</tr>
			    	<tr>
			    		<th>Claim Details</th>
			    		<td>#{checkEligibility.liabilityCase.claimDetails}</td>
			    	</tr>
			    	<tr>
			    		<th>Claim Eligibility</th>
			    		<td>#{checkEligibility.liabilityCase.eligible}</td>
			    	</tr>
			    
			</table>
			
			
						
			<h:form class="form-horizontal" target="_self">
			
				<div class="form-group">
					<img src="#{calculateCarsFairValue.carInformation.imageUrl}" class="img-responsive" alt="Car Image"></img>
				</div>
				<div class="form-group">
				    <h:outputLabel class="col-sm-3 control-label" for="carHsn" value="HSN" />
				    <div class="input-group col-sm-4">
				      <h:inputText class="form-control" id="carHsn" value="#{calculateCarsFairValue.carInformation.hsn}" />
				    </div>
				</div>
				<div class="form-group">
				    <h:outputLabel class="col-sm-3 control-label" for="carTsn" value="TSN" />
				    <div class="input-group col-sm-4">
				      <h:inputText class="form-control" id="carTsn" value="#{calculateCarsFairValue.carInformation.tsn}" />
				    </div>
				</div>
				
				<div class="form-group">
				    <h:outputLabel class="col-sm-3 control-label" for="carYear" value="Year" />
				    <div class="input-group col-sm-4">
				      <h:inputText class="form-control" id="carYear" value="#{calculateCarsFairValue.carInformation.year}" />
				    </div>
				</div>
				
				<div class="form-group">
					<h:commandButton id="loadAdditonalCarInfomrationBtn" class="btn btn-primary pull-right" value="Search by HSN/TSN" update="@form" action="#{calculateCarsFairValue.loadAdditionalCarInformation()}" />
				</div>
								
				<div class="form-group">
				    <h:outputLabel class="col-sm-3 control-label" for="carName" value="Name" />
				    <div class="input-group col-sm-4">
				      <h:inputText class="form-control" id="carName" value="#{calculateCarsFairValue.carInformation.name}" />
				    </div>
				</div>
				<div class="form-group">
				    <h:outputLabel class="col-sm-3 control-label" for="carEnginePower" value="Engine Power" />
				    <div class="input-group col-sm-4">
				      <h:inputText class="form-control" id="carEnginePower" value="#{calculateCarsFairValue.carInformation.enginePower}" />
				    </div>
				</div>
				<div class="form-group">
				    <h:outputLabel class="col-sm-3 control-label" for="carEngineSize" value="Engine Size" />
				    <div class="input-group col-sm-4">
				      <h:inputText class="form-control" id="carEngineSize" value="#{calculateCarsFairValue.carInformation.engineSize}" />
				    </div>
				</div>
				<div class="form-group">
				    <h:outputLabel class="col-sm-3 control-label" for="carFuelType" value="Fuel Type" />
				    <div class="input-group col-sm-4">
				      <h:inputText class="form-control" id="carFuelType" value="#{calculateCarsFairValue.carInformation.fuelType}" />
				    </div>
				</div>
				
				<h2>Insurance Classification</h2>
				<div class="form-group">
				    <h:outputLabel class="col-sm-3 control-label" for="carClassKH" value="General Liability 10-25" />
				    <div class="input-group col-sm-4">
				      <h:inputText class="form-control" id="carClassKH" value="#{calculateCarsFairValue.carInformation.classKH}" />
				    </div>
				    <div class="progress">
					  <div class="progress-bar" role="progressbar" aria-valuenow="#{calculateCarsFairValue.carInformation.classKH}" aria-valuemin="0" aria-valuemax="100" style="width: #{calculateCarsFairValue.carInformation.classKH * 4}%;"></div>
					</div>
				</div>
				<div class="form-group">
				    <h:outputLabel class="col-sm-3 control-label" for="carClassTK" value="Partial Cover (TK) 10-33" />
				    <div class="input-group col-sm-4">
				      <h:inputText class="form-control" id="carClassTK" value="#{calculateCarsFairValue.carInformation.classTK}" />
				    </div>
				    <div class="progress">
					  <div class="progress-bar" role="progressbar" aria-valuenow="#{calculateCarsFairValue.carInformation.classTK}" aria-valuemin="0" aria-valuemax="100" style="width: #{calculateCarsFairValue.carInformation.classTK * 3}%;"></div>
					</div>
				</div>
				<div class="form-group">
				    <h:outputLabel class="col-sm-3 control-label" for="carClassVK" value="Fully Comprehensive (VK) 10-34" />
				    <div class="input-group col-sm-4">
				      <h:inputText class="form-control" id="carClassVK" value="#{calculateCarsFairValue.carInformation.classVK}" />
				    </div>
				    <div class="progress">
					  <div class="progress-bar" role="progressbar" aria-valuenow="#{calculateCarsFairValue.carInformation.classVK}" aria-valuemin="0" aria-valuemax="100" style="width: #{calculateCarsFairValue.carInformation.classVK * 3}%;"></div>
					</div>
				</div>

			</h:form>
			
    		<h3>Calculation</h3>
			<div class="form-horizontal" style="margin-bottom: 20px;">
				<div class="form-group">
					<label class="col-sm-3 control-label">Calculation Service</label>
					<div class="col-sm-9">
						<a class="btn btn-default" href="http://www.dat.de/home.html" target="_blank">Open dat.de</a>
					</div>
				</div>
			</div>
    		<h:form class="form-horizontal" target="_parent">

	    		<div class="form-group">
					    <h:outputLabel class="col-sm-3 control-label" for="carValue" value="Fair Value" />
					    <div class="input-group col-sm-4">
					      <div class="input-group-addon">â‚¬</div>
					      <h:inputText class="form-control" id="carValue" p:placeholder="Amount" value="#{calculateCarsFairValue.liabilityCase.carsFairValue}" />
					      <div class="input-group-addon">.00</div>
					    </div>

				</div>

				<h:commandButton id="submit_button" class="btn btn-primary pull-right" value="Save changes" update="@form" action="#{calculateCarsFairValue.submitForm()}" />
			</h:form>
    			
    	</ui:define>
 
    </ui:composition>

  </h:body>
</html>
