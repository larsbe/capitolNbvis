<!DOCTYPE HTML>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:f="http://java.sun.com/jsf/core">

  <h:body>

		<ui:composition template="template.xhtml">
 
    		<ui:define name="content">
    		
				<!-- Modal -->
				<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
				  <div class="modal-dialog" role="document">
				    <div class="modal-content">
				      <div class="modal-header">
				        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">x</span></button>
				        <h4 class="modal-title" id="myModalLabel">Customer Details</h4>
				      </div>
				      <div class="modal-body">

				        <table class="table">
					    	<tr>
					    		<th>Company</th>
					    		<td>#{checkEligibility.liabilityCase.insuranceContract.customer.company}</td>
					    	</tr>
					    	<tr>
					    		<th>Contact Person</th>
					    		<td>#{checkEligibility.liabilityCase.insuranceContract.customer.name}</td>
					    	</tr>
					    	<tr>
					    		<th>E-Mail</th>
					    		<td>#{checkEligibility.liabilityCase.insuranceContract.customer.email}</td>
					    	</tr>
					    	<tr>
					    		<th>Phone Number</th>
					    		<td>#{checkEligibility.liabilityCase.insuranceContract.customer.phoneNumber}</td>
					    	</tr>
					    	<tr>
					    		<th>Address</th>
					    		<td>#{checkEligibility.liabilityCase.insuranceContract.customer.address}</td>
					    	</tr>
					    
					    </table>
				      </div>
				    </div>
				  </div>
				</div>
    		
    		 	<h1>Liability Case Eligibility Check</h1>
    		 	<h3>Liability Case Info</h3>
			    <table class="table">
			    	<tr>
			    		<th>Case ID</th>
			    		<td>#{checkEligibility.liabilityCase.id}</td>
			    	</tr>
			    	<tr>
			    		<th>Contract ID</th>
			    		<td>#{checkEligibility.liabilityCase.insuranceContract.id}</td>
			    	</tr>
			    	<tr>
			    		<th>Customer</th>
			    		<td>#{checkEligibility.liabilityCase.insuranceContract.customer.company} 
				    		<button type="button" class="btn btn-primary btn-xs pull-right" data-toggle="modal" data-target="#myModal">
							  Details
							</button>
						</td>
			    	</tr>
			    	<tr>
			    		<th>Claim Details</th>
			    		<td>#{checkEligibility.liabilityCase.claimDetails}</td>
			    	</tr>
			    	<tr>
			    		<th>Pictures</th>
			    		<td>
			    			<ui:repeat var="image" value="#{checkEligibility.liabilityCase.images}">
		
								<a href="#{image.filePath}" target="_blank"><h:graphicImage value="#{image.filePath}" width="200"/></a>
								
					        </ui:repeat>
			    		</td>
			    	</tr>
			    
			    </table>

				<h3>Eligibility</h3>
			    <h:form id="submitForm" target="_parent">
		
			      <div class="checkbox">
				    <label>
				      <h:selectBooleanCheckbox value="#{checkEligibility.liabilityCase.eligible}"/> Claim is eligible
				    </label>
				  </div>
				  
			      <h:commandButton id="submit_button" class="btn btn-primary pull-right" value="Save changes" update="@form" action="#{checkEligibility.submitForm()}" />
			    	
			    </h:form>
    		
    			
    		</ui:define>
 
    	</ui:composition>

     
  </h:body>
</html>